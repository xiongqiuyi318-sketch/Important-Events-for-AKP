# Vercel æ„å»ºé”™è¯¯ï¼šç¼ºå°‘ package.json è§£å†³æ–¹æ¡ˆ

## é—®é¢˜æè¿°

åœ¨ Vercel éƒ¨ç½²æ—¶é‡åˆ°é”™è¯¯ï¼š
```
ERR_PNPM_NO_IMPORTER_MANIFEST_FOUND  No package.json (or package.yaml, or package.json5) was found in "/vercel/path0".
Error: Command "pnpm install && pnpm build:h5" exited with 1
```

## é—®é¢˜åŸå› 

é¡¹ç›®ç¼ºå°‘ `package.json` æ–‡ä»¶ï¼Œè¿™æ˜¯ Node.js é¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œç”¨äºï¼š
- å®šä¹‰é¡¹ç›®ä¾èµ–
- é…ç½®æ„å»ºè„šæœ¬
- æŒ‡å®šé¡¹ç›®å…ƒæ•°æ®

## è§£å†³æ–¹æ¡ˆ

å·²åˆ›å»º `package.json` æ–‡ä»¶ï¼ŒåŒ…å«ï¼š

### 1. é¡¹ç›®åŸºæœ¬ä¿¡æ¯
```json
{
  "name": "important-events-for-akp",
  "version": "1.0.0",
  "description": "é‡è¦äº‹ä»¶ç®¡ç†åº”ç”¨ - æ”¯æŒH5ç½‘é¡µå’Œå¾®ä¿¡å°ç¨‹åº"
}
```

### 2. æ„å»ºè„šæœ¬
```json
{
  "scripts": {
    "build:h5": "taro build --type h5",
    "build:weapp": "taro build --type weapp",
    "dev:h5": "taro build --type h5 --watch",
    "dev:weapp": "taro build --type weapp --watch"
  }
}
```

### 3. é¡¹ç›®ä¾èµ–

**ç”Ÿäº§ä¾èµ–**ï¼š
- `@tarojs/taro` - Taro æ¡†æ¶æ ¸å¿ƒ
- `@tarojs/components` - Taro ç»„ä»¶åº“
- `react`, `react-dom` - React æ¡†æ¶
- `@supabase/supabase-js` - Supabase å®¢æˆ·ç«¯
- `miaoda-auth-taro` - è®¤è¯ç»„ä»¶
- `supabase-wechat-js` - å¾®ä¿¡å°ç¨‹åº Supabase é€‚é…

**å¼€å‘ä¾èµ–**ï¼š
- `@tarojs/cli` - Taro CLI å·¥å…·
- `typescript` - TypeScript ç¼–è¯‘å™¨
- `tailwindcss` - Tailwind CSS
- `vite` - æ„å»ºå·¥å…·
- `sass` - Sass é¢„å¤„ç†å™¨
- å…¶ä»–æ„å»ºå’Œå¼€å‘å·¥å…·

## ç°åœ¨å¯ä»¥é‡æ–°éƒ¨ç½²

1. **ä»£ç å·²ä¿®å¤å¹¶æ¨é€**
   - âœ… `package.json` å·²åˆ›å»º
   - âœ… å·²æ¨é€åˆ° GitHub

2. **åœ¨ Vercel ä¸­é‡æ–°éƒ¨ç½²**
   - Vercel ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ–°çš„æäº¤
   - æˆ–è€…æ‰‹åŠ¨ç‚¹å‡» "Redeploy"

3. **éªŒè¯éƒ¨ç½²**
   - æ£€æŸ¥æ„å»ºæ—¥å¿—ï¼Œåº”è¯¥èƒ½å¤Ÿæ‰¾åˆ° `package.json`
   - `pnpm install` åº”è¯¥èƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œ
   - æ„å»ºè¿‡ç¨‹åº”è¯¥èƒ½å¤Ÿç»§ç»­

## æ³¨æ„äº‹é¡¹

### ä¾èµ–ç‰ˆæœ¬

åˆ›å»ºçš„ `package.json` ä½¿ç”¨äº†å¸¸è§çš„ç‰ˆæœ¬èŒƒå›´ï¼ˆå¦‚ `^4.0.0`ï¼‰ã€‚å¦‚æœæ„å»ºæ—¶é‡åˆ°ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ„å»ºæ—¥å¿—**ä¸­çš„é”™è¯¯ä¿¡æ¯
2. **è°ƒæ•´ä¾èµ–ç‰ˆæœ¬**ä»¥åŒ¹é…å®é™…ä½¿ç”¨çš„ç‰ˆæœ¬
3. **æäº¤æ›´æ–°åçš„ package.json**

### å¦‚æœæ„å»ºä»ç„¶å¤±è´¥

å¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š

1. **ä¾èµ–ç‰ˆæœ¬ä¸åŒ¹é…**
   - æ£€æŸ¥æœ¬åœ°é¡¹ç›®çš„å®é™…ä¾èµ–ç‰ˆæœ¬
   - æ›´æ–° `package.json` ä¸­çš„ç‰ˆæœ¬å·

2. **ç¼ºå°‘æŸäº›ä¾èµ–**
   - æŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­çš„é”™è¯¯
   - æ·»åŠ ç¼ºå¤±çš„ä¾èµ–åŒ…

3. **Node.js ç‰ˆæœ¬ä¸å…¼å®¹**
   - ç¡®ä¿ä½¿ç”¨ Node.js 18+ï¼ˆå·²åœ¨ `engines` ä¸­æŒ‡å®šï¼‰

### æœ¬åœ°æµ‹è¯•

åœ¨æ¨é€åˆ° Vercel ä¹‹å‰ï¼Œå¯ä»¥åœ¨æœ¬åœ°æµ‹è¯•ï¼š

```bash
# å®‰è£…ä¾èµ–
pnpm install

# æ„å»º H5 ç‰ˆæœ¬
pnpm build:h5

# å¦‚æœæ„å»ºæˆåŠŸï¼Œè¯´æ˜ package.json é…ç½®æ­£ç¡®
```

## åç»­ä¼˜åŒ–å»ºè®®

1. **åˆ›å»º pnpm-lock.yaml**
   - åœ¨æœ¬åœ°è¿è¡Œ `pnpm install` ç”Ÿæˆé”æ–‡ä»¶
   - æäº¤é”æ–‡ä»¶ä»¥ç¡®ä¿ä¾èµ–ç‰ˆæœ¬ä¸€è‡´æ€§

2. **ä½¿ç”¨ç²¾ç¡®ç‰ˆæœ¬**
   - å¦‚æœé‡åˆ°ç‰ˆæœ¬é—®é¢˜ï¼Œå¯ä»¥å›ºå®šä¾èµ–ç‰ˆæœ¬
   - ç§»é™¤ `^` ç¬¦å·ä½¿ç”¨ç²¾ç¡®ç‰ˆæœ¬

3. **æ·»åŠ  .npmrc**
   - é…ç½® pnpm è¡Œä¸º
   - è®¾ç½® registry ç­‰é€‰é¡¹

## ç›¸å…³æ–‡æ¡£

- [package.json å®˜æ–¹æ–‡æ¡£](https://docs.npmjs.com/cli/v9/configuring-npm/package-json)
- [Taro å®˜æ–¹æ–‡æ¡£](https://taro-docs.jd.com/)
- [Vercel éƒ¨ç½²æ–‡æ¡£](https://vercel.com/docs)

---

**é—®é¢˜å·²è§£å†³ï¼** ç°åœ¨ Vercel åº”è¯¥èƒ½å¤Ÿæ‰¾åˆ° `package.json` å¹¶å¼€å§‹æ„å»ºäº†ã€‚ğŸš€

