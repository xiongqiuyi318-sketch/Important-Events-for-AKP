# 故障排查指南

## 无法创建事件的问题

如果您遇到无法创建事件的问题，请按照以下步骤进行排查：

### 1. 检查登录状态

**问题症状：**
- 点击"创建事件"按钮后没有反应
- 提交表单后显示"创建失败"
- 页面自动跳转到登录页

**解决方法：**
1. 确保您已经登录系统
2. 如果未登录，请先在登录页面完成登录
3. 登录后再尝试创建事件

### 2. 使用调试页面

我们在首页添加了一个"调试"按钮，可以帮助您诊断问题：

**使用步骤：**
1. 打开首页
2. 点击右上角的"调试"按钮
3. 查看以下信息：
   - **useAuth Hook 状态**：显示当前的认证状态
   - **Supabase Auth 状态**：显示数据库认证状态
   - **数据库连接状态**：显示数据库连接是否正常

4. 点击"测试创建事件"按钮，尝试创建一个测试事件
5. 根据错误提示进行相应的处理

### 3. 常见错误及解决方法

#### 错误：Auth session missing!
**原因：** 用户未登录或登录会话已过期

**解决方法：**
1. 返回登录页面重新登录
2. 确保使用正确的手机号或邮箱
3. 检查验证码是否正确

#### 错误：invalid input syntax for type uuid
**原因：** 数据库权限配置问题或用户ID格式错误

**解决方法：**
1. 确保已经完成登录
2. 尝试退出登录后重新登录
3. 如果问题持续，请联系管理员

#### 错误：Row Level Security policy violation
**原因：** 数据库行级安全策略阻止了操作

**解决方法：**
1. 确保您有权限创建事件
2. 检查是否使用了正确的用户账号
3. 联系管理员检查数据库权限配置

### 4. 数据库连接问题

如果调试页面显示"数据库连接失败"：

1. 检查网络连接是否正常
2. 确认 Supabase 服务是否可用
3. 查看浏览器控制台是否有错误信息

### 5. 获取更多帮助

如果以上方法都无法解决问题：

1. 打开浏览器开发者工具（F12）
2. 切换到"Console"标签
3. 尝试创建事件，查看控制台输出的错误信息
4. 将错误信息截图或复制，寻求技术支持

## 其他常见问题

### 事件列表不显示

**可能原因：**
- 没有创建任何事件
- 筛选条件过滤了所有事件
- 数据加载失败

**解决方法：**
1. 尝试创建一个新事件
2. 检查筛选条件
3. 刷新页面重新加载数据

### 步骤生成失败

**可能原因：**
- 事件描述信息不足
- 类别未选择或不匹配

**解决方法：**
1. 填写详细的事件描述
2. 选择合适的事件类别
3. 可以手动添加步骤

## 联系支持

如果您遇到其他问题，请通过以下方式联系我们：
- 在调试页面查看详细的错误信息
- 提供错误截图和操作步骤
- 说明您的使用环境（浏览器类型、版本等）
